<?xml version="1.0" encoding="utf-8"?>
<data-map xmlns="http://cayenne.apache.org/schema/10/modelMap"
	 xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	 xsi:schemaLocation="http://cayenne.apache.org/schema/10/modelMap https://cayenne.apache.org/schema/10/modelMap.xsd"
	 project-version="10">
	<property name="defaultPackage" value="org.haiku.haikudepotserver.dataobjects"/>
	<property name="defaultSchema" value="haikudepot"/>
	<property name="defaultSuperclass" value="org.haiku.haikudepotserver.dataobjects.support.AbstractDataObject"/>
	<db-entity name="architecture" schema="haikudepot">
		<db-attribute name="code" type="VARCHAR" isMandatory="true" length="255"/>
		<db-attribute name="id" type="BIGINT" isPrimaryKey="true" isMandatory="true"/>
		<db-key-generator>
			<db-generator-type>ORACLE</db-generator-type>
			<db-generator-name>haikudepot.architecture_seq</db-generator-name>
			<db-key-cache-size>1</db-key-cache-size>
		</db-key-generator>
	</db-entity>
	<db-entity name="country" schema="haikudepot">
		<db-attribute name="active" type="BOOLEAN" isMandatory="true"/>
		<db-attribute name="code" type="VARCHAR" isMandatory="true" length="2"/>
		<db-attribute name="create_timestamp" type="TIMESTAMP" isMandatory="true"/>
		<db-attribute name="id" type="BIGINT" isPrimaryKey="true" isMandatory="true"/>
		<db-attribute name="modify_timestamp" type="TIMESTAMP" isMandatory="true"/>
		<db-attribute name="name" type="VARCHAR" isMandatory="true" length="255"/>
		<db-key-generator>
			<db-generator-type>ORACLE</db-generator-type>
			<db-generator-name>haikudepot.country_seq</db-generator-name>
			<db-key-cache-size>1</db-key-cache-size>
		</db-key-generator>
	</db-entity>
	<db-entity name="localization_content" schema="haikudepot">
		<db-attribute name="content" type="VARCHAR" isMandatory="true" length="65535"/>
		<db-attribute name="id" type="BIGINT" isPrimaryKey="true" isMandatory="true"/>
		<db-key-generator>
			<db-generator-type>ORACLE</db-generator-type>
			<db-generator-name>haikudepot.localization_content_seq</db-generator-name>
			<db-key-cache-size>10</db-key-cache-size>
		</db-key-generator>
	</db-entity>
	<db-entity name="media_type" schema="haikudepot">
		<db-attribute name="code" type="VARCHAR" isMandatory="true" length="255"/>
		<db-attribute name="id" type="BIGINT" isPrimaryKey="true" isMandatory="true"/>
		<db-key-generator>
			<db-generator-type>ORACLE</db-generator-type>
			<db-generator-name>haikudepot.media_type_seq</db-generator-name>
			<db-key-cache-size>1</db-key-cache-size>
		</db-key-generator>
	</db-entity>
	<db-entity name="natural_language" schema="haikudepot">
		<db-attribute name="country_code" type="VARCHAR" length="2"/>
		<db-attribute name="create_timestamp" type="TIMESTAMP" isMandatory="true"/>
		<db-attribute name="id" type="BIGINT" isPrimaryKey="true" isMandatory="true"/>
		<db-attribute name="is_popular" type="BOOLEAN" isMandatory="true"/>
		<db-attribute name="language_code" type="VARCHAR" isMandatory="true" length="3"/>
		<db-attribute name="modify_timestamp" type="TIMESTAMP" isMandatory="true"/>
		<db-attribute name="name" type="VARCHAR" isMandatory="true" length="255"/>
		<db-attribute name="script_code" type="VARCHAR" length="4"/>
		<db-key-generator>
			<db-generator-type>ORACLE</db-generator-type>
			<db-generator-name>haikudepot.natural_language_seq</db-generator-name>
			<db-key-cache-size>1</db-key-cache-size>
		</db-key-generator>
	</db-entity>
	<db-entity name="permission" schema="haikudepot">
		<db-attribute name="code" type="VARCHAR" isMandatory="true" length="255"/>
		<db-attribute name="id" type="BIGINT" isPrimaryKey="true" isMandatory="true"/>
		<db-attribute name="name" type="VARCHAR" isMandatory="true" length="255"/>
		<db-key-generator>
			<db-generator-type>ORACLE</db-generator-type>
		</db-key-generator>
	</db-entity>
	<db-entity name="permission_user_pkg" schema="haikudepot">
		<db-attribute name="create_timestamp" type="TIMESTAMP" isMandatory="true"/>
		<db-attribute name="id" type="BIGINT" isPrimaryKey="true" isMandatory="true"/>
		<db-attribute name="permission_id" type="BIGINT" isMandatory="true"/>
		<db-attribute name="pkg_id" type="BIGINT"/>
		<db-attribute name="user_id" type="BIGINT" isMandatory="true"/>
		<db-key-generator>
			<db-generator-type>ORACLE</db-generator-type>
			<db-generator-name>haikudepot.permission_user_pkg_seq</db-generator-name>
			<db-key-cache-size>1</db-key-cache-size>
		</db-key-generator>
	</db-entity>
	<db-entity name="pkg" schema="haikudepot">
		<db-attribute name="active" type="BOOLEAN" isMandatory="true"/>
		<db-attribute name="create_timestamp" type="TIMESTAMP" isMandatory="true"/>
		<db-attribute name="id" type="BIGINT" isPrimaryKey="true" isMandatory="true"/>
		<db-attribute name="modify_timestamp" type="TIMESTAMP" isMandatory="true"/>
		<db-attribute name="name" type="VARCHAR" isMandatory="true" length="255"/>
		<db-attribute name="pkg_supplement_id" type="BIGINT" isMandatory="true"/>
		<db-key-generator>
			<db-generator-type>ORACLE</db-generator-type>
			<db-generator-name>haikudepot.pkg_seq</db-generator-name>
			<db-key-cache-size>10</db-key-cache-size>
		</db-key-generator>
	</db-entity>
	<db-entity name="pkg_category" schema="haikudepot">
		<db-attribute name="code" type="VARCHAR" isMandatory="true" length="32"/>
		<db-attribute name="create_timestamp" type="TIMESTAMP" isMandatory="true"/>
		<db-attribute name="id" type="BIGINT" isPrimaryKey="true" isMandatory="true"/>
		<db-attribute name="modify_timestamp" type="TIMESTAMP" isMandatory="true"/>
		<db-attribute name="name" type="VARCHAR" isMandatory="true" length="255"/>
		<db-key-generator>
			<db-generator-type>ORACLE</db-generator-type>
			<db-generator-name>haikudepot.pkg_category_seq</db-generator-name>
			<db-key-cache-size>1</db-key-cache-size>
		</db-key-generator>
	</db-entity>
	<db-entity name="pkg_changelog" schema="haikudepot">
		<db-attribute name="content" type="VARCHAR" isMandatory="true" length="65535"/>
		<db-attribute name="create_timestamp" type="TIMESTAMP" isMandatory="true"/>
		<db-attribute name="id" type="BIGINT" isPrimaryKey="true" isMandatory="true"/>
		<db-attribute name="modify_timestamp" type="TIMESTAMP" isMandatory="true"/>
		<db-attribute name="pkg_supplement_id" type="BIGINT" isMandatory="true"/>
		<db-key-generator>
			<db-generator-type>ORACLE</db-generator-type>
			<db-generator-name>haikudepot.pkg_changelog_seq</db-generator-name>
			<db-key-cache-size>1</db-key-cache-size>
		</db-key-generator>
	</db-entity>
	<db-entity name="pkg_icon" schema="haikudepot">
		<db-attribute name="id" type="BIGINT" isPrimaryKey="true" isMandatory="true"/>
		<db-attribute name="media_type_id" type="BIGINT" isMandatory="true"/>
		<db-attribute name="pkg_supplement_id" type="BIGINT" isMandatory="true"/>
		<db-attribute name="size" type="INTEGER"/>
		<db-key-generator>
			<db-generator-type>ORACLE</db-generator-type>
			<db-generator-name>haikudepot.pkg_icon_seq</db-generator-name>
			<db-key-cache-size>1</db-key-cache-size>
		</db-key-generator>
	</db-entity>
	<db-entity name="pkg_icon_image" schema="haikudepot">
		<db-attribute name="data" type="VARBINARY" isMandatory="true"/>
		<db-attribute name="id" type="BIGINT" isPrimaryKey="true" isMandatory="true"/>
		<db-attribute name="pkg_icon_id" type="BIGINT" isMandatory="true"/>
		<db-key-generator>
			<db-generator-type>ORACLE</db-generator-type>
			<db-generator-name>haikudepot.pkg_icon_image_seq</db-generator-name>
			<db-key-cache-size>1</db-key-cache-size>
		</db-key-generator>
	</db-entity>
	<db-entity name="pkg_localization" schema="haikudepot">
		<db-attribute name="create_timestamp" type="TIMESTAMP" isMandatory="true"/>
		<db-attribute name="description" type="VARCHAR" length="8192"/>
		<db-attribute name="id" type="BIGINT" isPrimaryKey="true" isMandatory="true"/>
		<db-attribute name="modify_timestamp" type="TIMESTAMP" isMandatory="true"/>
		<db-attribute name="natural_language_id" type="BIGINT" isMandatory="true"/>
		<db-attribute name="pkg_supplement_id" type="BIGINT" isMandatory="true"/>
		<db-attribute name="summary" type="VARCHAR" length="8192"/>
		<db-attribute name="title" type="VARCHAR" length="1024"/>
		<db-key-generator>
			<db-generator-type>ORACLE</db-generator-type>
			<db-generator-name>haikudepot.pkg_localization_seq</db-generator-name>
			<db-key-cache-size>1</db-key-cache-size>
		</db-key-generator>
	</db-entity>
	<db-entity name="pkg_pkg_category" schema="haikudepot">
		<db-attribute name="id" type="BIGINT" isPrimaryKey="true" isMandatory="true"/>
		<db-attribute name="pkg_category_id" type="BIGINT" isMandatory="true"/>
		<db-attribute name="pkg_supplement_id" type="BIGINT" isMandatory="true"/>
		<db-key-generator>
			<db-generator-type>ORACLE</db-generator-type>
			<db-generator-name>haikudepot.pkg_pkg_category_seq</db-generator-name>
			<db-key-cache-size>1</db-key-cache-size>
		</db-key-generator>
	</db-entity>
	<db-entity name="pkg_prominence" schema="haikudepot">
		<db-attribute name="id" type="BIGINT" isPrimaryKey="true" isMandatory="true"/>
		<db-attribute name="pkg_id" type="BIGINT" isMandatory="true"/>
		<db-attribute name="prominence_id" type="BIGINT" isMandatory="true"/>
		<db-attribute name="repository_id" type="BIGINT" isMandatory="true"/>
		<db-key-generator>
			<db-generator-type>ORACLE</db-generator-type>
			<db-generator-name>haikudepot.pkg_prominence_seq</db-generator-name>
			<db-key-cache-size>10</db-key-cache-size>
		</db-key-generator>
	</db-entity>
	<db-entity name="pkg_screenshot" schema="haikudepot">
		<db-attribute name="code" type="CHAR" isMandatory="true" length="36"/>
		<db-attribute name="create_timestamp" type="TIMESTAMP" isMandatory="true"/>
		<db-attribute name="hash_sha256" type="VARCHAR" isMandatory="true" length="64"/>
		<db-attribute name="height" type="INTEGER" isMandatory="true"/>
		<db-attribute name="id" type="BIGINT" isPrimaryKey="true" isMandatory="true"/>
		<db-attribute name="length" type="INTEGER" isMandatory="true"/>
		<db-attribute name="modify_timestamp" type="TIMESTAMP" isMandatory="true"/>
		<db-attribute name="ordering" type="INTEGER" isMandatory="true"/>
		<db-attribute name="pkg_supplement_id" type="BIGINT" isMandatory="true"/>
		<db-attribute name="width" type="INTEGER" isMandatory="true"/>
		<db-key-generator>
			<db-generator-type>ORACLE</db-generator-type>
			<db-generator-name>haikudepot.pkg_screenshot_seq</db-generator-name>
			<db-key-cache-size>1</db-key-cache-size>
		</db-key-generator>
	</db-entity>
	<db-entity name="pkg_screenshot_image" schema="haikudepot">
		<db-attribute name="data" type="VARBINARY" isMandatory="true"/>
		<db-attribute name="id" type="BIGINT" isPrimaryKey="true" isMandatory="true"/>
		<db-attribute name="media_type_id" type="BIGINT" isMandatory="true"/>
		<db-attribute name="pkg_screenshot_id" type="BIGINT" isMandatory="true"/>
		<db-key-generator>
			<db-generator-type>ORACLE</db-generator-type>
			<db-generator-name>haikudepot.pkg_screenshot_image_seq</db-generator-name>
			<db-key-cache-size>1</db-key-cache-size>
		</db-key-generator>
	</db-entity>
	<db-entity name="pkg_supplement" schema="haikudepot">
		<db-attribute name="base_pkg_name" type="VARCHAR" isMandatory="true" length="255"/>
		<db-attribute name="create_timestamp" type="TIMESTAMP" isMandatory="true"/>
		<db-attribute name="icon_modify_timestamp" type="TIMESTAMP"/>
		<db-attribute name="id" type="BIGINT" isPrimaryKey="true" isMandatory="true"/>
		<db-attribute name="modify_timestamp" type="TIMESTAMP" isMandatory="true"/>
		<db-key-generator>
			<db-generator-type>ORACLE</db-generator-type>
			<db-generator-name>haikudepot.pkg_supplement_seq</db-generator-name>
			<db-key-cache-size>10</db-key-cache-size>
		</db-key-generator>
	</db-entity>
	<db-entity name="pkg_supplement_modification" schema="haikudepot">
		<db-attribute name="content" type="VARCHAR" isMandatory="true" length="65535"/>
		<db-attribute name="create_timestamp" type="TIMESTAMP" isMandatory="true"/>
		<db-attribute name="id" type="BIGINT" isPrimaryKey="true" isMandatory="true"/>
		<db-attribute name="modify_timestamp" type="TIMESTAMP" isMandatory="true"/>
		<db-attribute name="origin_system_description" type="VARCHAR" length="1024"/>
		<db-attribute name="pkg_supplement_id" type="BIGINT" isMandatory="true"/>
		<db-attribute name="user_description" type="VARCHAR" length="1024"/>
		<db-attribute name="user_id" type="BIGINT"/>
		<db-key-generator>
			<db-generator-type>ORACLE</db-generator-type>
			<db-generator-name>haikudepot.pkg_supplement_seq</db-generator-name>
			<db-key-cache-size>1</db-key-cache-size>
		</db-key-generator>
	</db-entity>
	<db-entity name="pkg_url_type" schema="haikudepot">
		<db-attribute name="code" type="VARCHAR" isMandatory="true" length="255"/>
		<db-attribute name="id" type="BIGINT" isPrimaryKey="true" isMandatory="true"/>
		<db-key-generator>
			<db-generator-type>ORACLE</db-generator-type>
			<db-generator-name>haikudepot.pkg_url_type_seq</db-generator-name>
			<db-key-cache-size>1</db-key-cache-size>
		</db-key-generator>
	</db-entity>
	<db-entity name="pkg_user_rating_aggregate" schema="haikudepot">
		<db-attribute name="derived_rating" type="FLOAT" isMandatory="true"/>
		<db-attribute name="derived_rating_sample_size" type="INTEGER" isMandatory="true"/>
		<db-attribute name="id" type="BIGINT" isPrimaryKey="true" isMandatory="true"/>
		<db-attribute name="pkg_id" type="BIGINT" isMandatory="true"/>
		<db-attribute name="repository_id" type="BIGINT" isMandatory="true"/>
		<db-key-generator>
			<db-generator-type>ORACLE</db-generator-type>
			<db-generator-name>haikudepot.pkg_user_rating_aggregate_seq</db-generator-name>
			<db-key-cache-size>1</db-key-cache-size>
		</db-key-generator>
	</db-entity>
	<db-entity name="pkg_version" schema="haikudepot">
		<db-attribute name="active" type="BOOLEAN" isMandatory="true"/>
		<db-attribute name="architecture_id" type="BIGINT" isMandatory="true"/>
		<db-attribute name="create_timestamp" type="TIMESTAMP" isMandatory="true"/>
		<db-attribute name="id" type="BIGINT" isPrimaryKey="true" isMandatory="true"/>
		<db-attribute name="is_latest" type="BOOLEAN" isMandatory="true"/>
		<db-attribute name="major" type="VARCHAR" isMandatory="true" length="255"/>
		<db-attribute name="micro" type="VARCHAR" length="255"/>
		<db-attribute name="minor" type="VARCHAR" length="255"/>
		<db-attribute name="modify_timestamp" type="TIMESTAMP" isMandatory="true"/>
		<db-attribute name="payload_length" type="BIGINT"/>
		<db-attribute name="pkg_id" type="BIGINT" isMandatory="true"/>
		<db-attribute name="pre_release" type="VARCHAR" length="255"/>
		<db-attribute name="repository_source_id" type="BIGINT" isMandatory="true"/>
		<db-attribute name="revision" type="INTEGER"/>
		<db-attribute name="view_counter" type="BIGINT" isMandatory="true"/>
		<db-key-generator>
			<db-generator-type>ORACLE</db-generator-type>
			<db-generator-name>haikudepot.pkg_version_seq</db-generator-name>
			<db-key-cache-size>10</db-key-cache-size>
		</db-key-generator>
	</db-entity>
	<db-entity name="pkg_version_copyright" schema="haikudepot">
		<db-attribute name="body" type="VARCHAR" isMandatory="true" length="4096"/>
		<db-attribute name="id" type="BIGINT" isPrimaryKey="true" isMandatory="true"/>
		<db-attribute name="pkg_version_id" type="BIGINT" isMandatory="true"/>
		<db-key-generator>
			<db-generator-type>ORACLE</db-generator-type>
			<db-generator-name>haikudepot.pkg_version_copyright_seq</db-generator-name>
			<db-key-cache-size>10</db-key-cache-size>
		</db-key-generator>
	</db-entity>
	<db-entity name="pkg_version_license" schema="haikudepot">
		<db-attribute name="body" type="VARCHAR" isMandatory="true" length="4096"/>
		<db-attribute name="id" type="BIGINT" isPrimaryKey="true" isMandatory="true"/>
		<db-attribute name="pkg_version_id" type="BIGINT" isMandatory="true"/>
		<db-key-generator>
			<db-generator-type>ORACLE</db-generator-type>
			<db-generator-name>haikudepot.pkg_version_license_seq</db-generator-name>
			<db-key-cache-size>10</db-key-cache-size>
		</db-key-generator>
	</db-entity>
	<db-entity name="pkg_version_localization" schema="haikudepot">
		<db-attribute name="create_timestamp" type="TIMESTAMP" isMandatory="true"/>
		<db-attribute name="description_localization_content_id" type="BIGINT"/>
		<db-attribute name="id" type="BIGINT" isPrimaryKey="true" isMandatory="true"/>
		<db-attribute name="modify_timestamp" type="TIMESTAMP" isMandatory="true"/>
		<db-attribute name="natural_language_id" type="BIGINT" isMandatory="true"/>
		<db-attribute name="pkg_version_id" type="BIGINT"/>
		<db-attribute name="summary_localization_content_id" type="BIGINT"/>
		<db-attribute name="title_localization_content_id" type="BIGINT"/>
		<db-key-generator>
			<db-generator-type>ORACLE</db-generator-type>
			<db-generator-name>haikudepot.pkg_version_localization_seq</db-generator-name>
			<db-key-cache-size>10</db-key-cache-size>
		</db-key-generator>
	</db-entity>
	<db-entity name="pkg_version_url" schema="haikudepot">
		<db-attribute name="id" type="BIGINT" isPrimaryKey="true" isMandatory="true"/>
		<db-attribute name="name" type="VARCHAR" length="1024"/>
		<db-attribute name="pkg_url_type_id" type="BIGINT" isMandatory="true"/>
		<db-attribute name="pkg_version_id" type="BIGINT" isMandatory="true"/>
		<db-attribute name="url" type="VARCHAR" isMandatory="true" length="1024"/>
		<db-key-generator>
			<db-generator-type>ORACLE</db-generator-type>
			<db-generator-name>haikudepot.pkg_version_url_seq</db-generator-name>
			<db-key-cache-size>10</db-key-cache-size>
		</db-key-generator>
	</db-entity>
	<db-entity name="prominence" schema="haikudepot">
		<db-attribute name="id" type="BIGINT" isPrimaryKey="true" isMandatory="true"/>
		<db-attribute name="name" type="VARCHAR" isMandatory="true" length="255"/>
		<db-attribute name="ordering" type="INTEGER" isMandatory="true"/>
		<db-key-generator>
			<db-generator-type>ORACLE</db-generator-type>
			<db-generator-name>haikudepot.prominence_seq</db-generator-name>
			<db-key-cache-size>1</db-key-cache-size>
		</db-key-generator>
	</db-entity>
	<db-entity name="repository" schema="haikudepot">
		<db-attribute name="active" type="BOOLEAN" isMandatory="true"/>
		<db-attribute name="code" type="VARCHAR" isMandatory="true" length="255"/>
		<db-attribute name="create_timestamp" type="TIMESTAMP" isMandatory="true"/>
		<db-attribute name="description" type="VARCHAR" length="1024"/>
		<db-attribute name="id" type="BIGINT" isPrimaryKey="true" isMandatory="true"/>
		<db-attribute name="information_url" type="VARCHAR" length="4096"/>
		<db-attribute name="modify_timestamp" type="TIMESTAMP" isMandatory="true"/>
		<db-attribute name="name" type="VARCHAR" isMandatory="true" length="255"/>
		<db-attribute name="password_hash" type="VARCHAR" length="255"/>
		<db-attribute name="password_salt" type="VARCHAR" length="255"/>
		<db-key-generator>
			<db-generator-type>ORACLE</db-generator-type>
			<db-generator-name>haikudepot.repository_seq</db-generator-name>
			<db-key-cache-size>1</db-key-cache-size>
		</db-key-generator>
	</db-entity>
	<db-entity name="repository_source" schema="haikudepot">
		<db-attribute name="active" type="BOOLEAN" isMandatory="true"/>
		<db-attribute name="architecture_id" type="BIGINT"/>
		<db-attribute name="code" type="VARCHAR" isMandatory="true" length="255"/>
		<db-attribute name="forced_internal_base_url" type="VARCHAR" length="1024"/>
		<db-attribute name="id" type="BIGINT" isPrimaryKey="true" isMandatory="true"/>
		<db-attribute name="identifier" type="VARCHAR" length="4096"/>
		<db-attribute name="last_import_timestamp" type="TIMESTAMP"/>
		<db-attribute name="repository_id" type="BIGINT" isMandatory="true"/>
		<db-key-generator>
			<db-generator-type>ORACLE</db-generator-type>
			<db-generator-name>haikudepot.repository_source_seq</db-generator-name>
			<db-key-cache-size>1</db-key-cache-size>
		</db-key-generator>
	</db-entity>
	<db-entity name="repository_source_extra_identifier" schema="haikudepot">
		<db-attribute name="id" type="BIGINT" isPrimaryKey="true" isMandatory="true"/>
		<db-attribute name="identifier" type="VARCHAR" isMandatory="true" length="4096"/>
		<db-attribute name="repository_source_id" type="BIGINT" isMandatory="true"/>
		<db-key-generator>
			<db-generator-type>ORACLE</db-generator-type>
			<db-generator-name>haikudepot.repository_source_extra_identifier_seq</db-generator-name>
			<db-key-cache-size>1</db-key-cache-size>
		</db-key-generator>
	</db-entity>
	<db-entity name="repository_source_mirror" schema="haikudepot">
		<db-attribute name="active" type="BOOLEAN" isMandatory="true"/>
		<db-attribute name="base_url" type="VARCHAR" isMandatory="true" length="1024"/>
		<db-attribute name="code" type="VARCHAR" isMandatory="true" length="36"/>
		<db-attribute name="country_id" type="BIGINT" isMandatory="true"/>
		<db-attribute name="create_timestamp" type="TIMESTAMP" isMandatory="true"/>
		<db-attribute name="description" type="VARCHAR" length="4096"/>
		<db-attribute name="id" type="BIGINT" isPrimaryKey="true" isMandatory="true"/>
		<db-attribute name="is_primary" type="BOOLEAN" isMandatory="true"/>
		<db-attribute name="modify_timestamp" type="TIMESTAMP" isMandatory="true"/>
		<db-attribute name="repository_source_id" type="BIGINT" isMandatory="true"/>
		<db-key-generator>
			<db-generator-type>ORACLE</db-generator-type>
			<db-generator-name>haikudepot.repository_source_mirror_seq</db-generator-name>
			<db-key-cache-size>1</db-key-cache-size>
		</db-key-generator>
	</db-entity>
	<db-entity name="user" schema="haikudepot">
		<db-attribute name="active" type="BOOLEAN" isMandatory="true"/>
		<db-attribute name="can_manage_users" type="BOOLEAN" isMandatory="true"/>
		<db-attribute name="create_timestamp" type="TIMESTAMP" isMandatory="true"/>
		<db-attribute name="email" type="VARCHAR" length="255"/>
		<db-attribute name="id" type="BIGINT" isPrimaryKey="true" isMandatory="true"/>
		<db-attribute name="is_root" type="BOOLEAN" isMandatory="true"/>
		<db-attribute name="last_authentication_timestamp" type="TIMESTAMP"/>
		<db-attribute name="modify_timestamp" type="TIMESTAMP" isMandatory="true"/>
		<db-attribute name="natural_language_id" type="BIGINT" isMandatory="true"/>
		<db-attribute name="nickname" type="VARCHAR" isMandatory="true" length="32"/>
		<db-attribute name="password_hash" type="VARCHAR" isMandatory="true" length="255"/>
		<db-attribute name="password_salt" type="VARCHAR" isMandatory="true" length="255"/>
		<db-key-generator>
			<db-generator-type>ORACLE</db-generator-type>
			<db-generator-name>haikudepot.user_seq</db-generator-name>
			<db-key-cache-size>1</db-key-cache-size>
		</db-key-generator>
	</db-entity>
	<db-entity name="user_password_reset_token" schema="haikudepot">
		<db-attribute name="code" type="VARCHAR" isMandatory="true" length="255"/>
		<db-attribute name="create_timestamp" type="TIMESTAMP" isMandatory="true"/>
		<db-attribute name="id" type="BIGINT" isPrimaryKey="true" isMandatory="true"/>
		<db-attribute name="user_id" type="BIGINT" isMandatory="true"/>
		<db-key-generator>
			<db-generator-type>ORACLE</db-generator-type>
			<db-generator-name>haikudepot.user_password_reset_token_seq</db-generator-name>
			<db-key-cache-size>1</db-key-cache-size>
		</db-key-generator>
	</db-entity>
	<db-entity name="user_rating" schema="haikudepot">
		<db-attribute name="active" type="BOOLEAN" isMandatory="true"/>
		<db-attribute name="code" type="VARCHAR" isMandatory="true" length="36"/>
		<db-attribute name="comment" type="VARCHAR" length="4096"/>
		<db-attribute name="create_timestamp" type="TIMESTAMP" isMandatory="true"/>
		<db-attribute name="id" type="BIGINT" isPrimaryKey="true" isMandatory="true"/>
		<db-attribute name="modify_timestamp" type="TIMESTAMP" isMandatory="true"/>
		<db-attribute name="natural_language_id" type="BIGINT" isMandatory="true"/>
		<db-attribute name="pkg_version_id" type="BIGINT" isMandatory="true"/>
		<db-attribute name="rating" type="SMALLINT"/>
		<db-attribute name="user_id" type="BIGINT" isMandatory="true"/>
		<db-attribute name="user_rating_stability_id" type="BIGINT"/>
		<db-key-generator>
			<db-generator-type>ORACLE</db-generator-type>
			<db-generator-name>haikudepot.user_rating_seq</db-generator-name>
			<db-key-cache-size>1</db-key-cache-size>
		</db-key-generator>
	</db-entity>
	<db-entity name="user_rating_stability" schema="haikudepot">
		<db-attribute name="code" type="VARCHAR" isMandatory="true" length="32"/>
		<db-attribute name="id" type="BIGINT" isPrimaryKey="true" isMandatory="true"/>
		<db-attribute name="name" type="VARCHAR" isMandatory="true" length="255"/>
		<db-attribute name="ordering" type="INTEGER" isMandatory="true"/>
		<db-key-generator>
			<db-generator-type>ORACLE</db-generator-type>
			<db-generator-name>haikudepot.user_rating_stability_seq</db-generator-name>
			<db-key-cache-size>1</db-key-cache-size>
		</db-key-generator>
	</db-entity>
	<db-entity name="user_usage_conditions" schema="haikudepot">
		<db-attribute name="code" type="VARCHAR" isMandatory="true" length="255"/>
		<db-attribute name="copy_markdown" type="VARCHAR" isMandatory="true" length="65535"/>
		<db-attribute name="id" type="BIGINT" isPrimaryKey="true" isMandatory="true"/>
		<db-attribute name="minimum_age" type="INTEGER" isMandatory="true"/>
		<db-attribute name="ordering" type="INTEGER" isMandatory="true"/>
		<db-key-generator>
			<db-generator-type>ORACLE</db-generator-type>
			<db-generator-name>haikudepot.user_usage_conditions_seq</db-generator-name>
			<db-key-cache-size>1</db-key-cache-size>
		</db-key-generator>
	</db-entity>
	<db-entity name="user_usage_conditions_agreement" schema="haikudepot">
		<db-attribute name="active" type="BOOLEAN" isMandatory="true"/>
		<db-attribute name="id" type="BIGINT" isPrimaryKey="true" isMandatory="true"/>
		<db-attribute name="timestamp_agreed" type="TIMESTAMP" isMandatory="true"/>
		<db-attribute name="user_id" type="BIGINT" isMandatory="true"/>
		<db-attribute name="user_usage_conditions_id" type="BIGINT" isMandatory="true"/>
		<db-key-generator>
			<db-generator-type>ORACLE</db-generator-type>
			<db-generator-name>haikudepot.user_usage_conditions_agreement_seq</db-generator-name>
			<db-key-cache-size>1</db-key-cache-size>
		</db-key-generator>
	</db-entity>
	<obj-entity name="Architecture" className="org.haiku.haikudepotserver.dataobjects.Architecture" readOnly="true" dbEntityName="architecture" superClassName="org.haiku.haikudepotserver.dataobjects.support.AbstractDataObject">
		<obj-attribute name="code" type="java.lang.String" lock="true" db-attribute-path="code"/>
	</obj-entity>
	<obj-entity name="Country" className="org.haiku.haikudepotserver.dataobjects.Country" readOnly="true" lock-type="optimistic" dbEntityName="country" superClassName="org.haiku.haikudepotserver.dataobjects.support.AbstractDataObject">
		<obj-attribute name="active" type="boolean" lock="true" db-attribute-path="active"/>
		<obj-attribute name="code" type="java.lang.String" lock="true" db-attribute-path="code"/>
		<obj-attribute name="createTimestamp" type="java.sql.Timestamp" db-attribute-path="create_timestamp"/>
		<obj-attribute name="modifyTimestamp" type="java.sql.Timestamp" db-attribute-path="modify_timestamp"/>
		<obj-attribute name="name" type="java.lang.String" lock="true" db-attribute-path="name"/>
	</obj-entity>
	<obj-entity name="LocalizationContent" className="org.haiku.haikudepotserver.dataobjects.LocalizationContent" dbEntityName="localization_content" superClassName="org.haiku.haikudepotserver.dataobjects.support.AbstractDataObject">
		<obj-attribute name="content" type="java.lang.String" db-attribute-path="content"/>
	</obj-entity>
	<obj-entity name="MediaType" className="org.haiku.haikudepotserver.dataobjects.MediaType" readOnly="true" dbEntityName="media_type" superClassName="org.haiku.haikudepotserver.dataobjects.support.AbstractDataObject">
		<obj-attribute name="code" type="java.lang.String" lock="true" db-attribute-path="code"/>
	</obj-entity>
	<obj-entity name="NaturalLanguage" className="org.haiku.haikudepotserver.dataobjects.NaturalLanguage" readOnly="true" dbEntityName="natural_language" superClassName="org.haiku.haikudepotserver.dataobjects.support.AbstractDataObject">
		<obj-attribute name="countryCode" type="java.lang.String" lock="true" db-attribute-path="country_code"/>
		<obj-attribute name="createTimestamp" type="java.sql.Timestamp" db-attribute-path="create_timestamp"/>
		<obj-attribute name="isPopular" type="java.lang.Boolean" db-attribute-path="is_popular"/>
		<obj-attribute name="languageCode" type="java.lang.String" lock="true" db-attribute-path="language_code"/>
		<obj-attribute name="modifyTimestamp" type="java.sql.Timestamp" db-attribute-path="modify_timestamp"/>
		<obj-attribute name="name" type="java.lang.String" db-attribute-path="name"/>
		<obj-attribute name="scriptCode" type="java.lang.String" lock="true" db-attribute-path="script_code"/>
	</obj-entity>
	<obj-entity name="Permission" className="org.haiku.haikudepotserver.dataobjects.Permission" readOnly="true" dbEntityName="permission" superClassName="org.haiku.haikudepotserver.dataobjects.support.AbstractDataObject">
		<obj-attribute name="code" type="java.lang.String" db-attribute-path="code"/>
		<obj-attribute name="name" type="java.lang.String" db-attribute-path="name"/>
	</obj-entity>
	<obj-entity name="PermissionUserPkg" className="org.haiku.haikudepotserver.dataobjects.PermissionUserPkg" lock-type="optimistic" dbEntityName="permission_user_pkg" superClassName="org.haiku.haikudepotserver.dataobjects.support.AbstractDataObject">
		<obj-attribute name="createTimestamp" type="java.sql.Timestamp" db-attribute-path="create_timestamp"/>
	</obj-entity>
	<obj-entity name="Pkg" className="org.haiku.haikudepotserver.dataobjects.Pkg" lock-type="optimistic" dbEntityName="pkg" superClassName="org.haiku.haikudepotserver.dataobjects.support.AbstractDataObject">
		<obj-attribute name="active" type="java.lang.Boolean" lock="true" db-attribute-path="active"/>
		<obj-attribute name="createTimestamp" type="java.sql.Timestamp" db-attribute-path="create_timestamp"/>
		<obj-attribute name="modifyTimestamp" type="java.sql.Timestamp" db-attribute-path="modify_timestamp"/>
		<obj-attribute name="name" type="java.lang.String" lock="true" db-attribute-path="name"/>
	</obj-entity>
	<obj-entity name="PkgCategory" className="org.haiku.haikudepotserver.dataobjects.PkgCategory" readOnly="true" dbEntityName="pkg_category" superClassName="org.haiku.haikudepotserver.dataobjects.support.AbstractDataObject">
		<obj-attribute name="code" type="java.lang.String" lock="true" db-attribute-path="code"/>
		<obj-attribute name="createTimestamp" type="java.sql.Timestamp" db-attribute-path="create_timestamp"/>
		<obj-attribute name="modifyTimestamp" type="java.sql.Timestamp" db-attribute-path="modify_timestamp"/>
		<obj-attribute name="name" type="java.lang.String" lock="true" db-attribute-path="name"/>
	</obj-entity>
	<obj-entity name="PkgChangelog" className="org.haiku.haikudepotserver.dataobjects.PkgChangelog" dbEntityName="pkg_changelog" superClassName="org.haiku.haikudepotserver.dataobjects.support.AbstractDataObject">
		<obj-attribute name="content" type="java.lang.String" db-attribute-path="content"/>
		<obj-attribute name="createTimestamp" type="java.sql.Timestamp" db-attribute-path="create_timestamp"/>
		<obj-attribute name="modifyTimestamp" type="java.sql.Timestamp" db-attribute-path="modify_timestamp"/>
	</obj-entity>
	<obj-entity name="PkgIcon" className="org.haiku.haikudepotserver.dataobjects.PkgIcon" lock-type="optimistic" dbEntityName="pkg_icon" superClassName="org.haiku.haikudepotserver.dataobjects.support.AbstractDataObject">
		<obj-attribute name="size" type="java.lang.Integer" db-attribute-path="size"/>
	</obj-entity>
	<obj-entity name="PkgIconImage" className="org.haiku.haikudepotserver.dataobjects.PkgIconImage" dbEntityName="pkg_icon_image" superClassName="org.haiku.haikudepotserver.dataobjects.support.AbstractDataObject">
		<obj-attribute name="data" type="byte[]" db-attribute-path="data"/>
	</obj-entity>
	<obj-entity name="PkgLocalization" className="org.haiku.haikudepotserver.dataobjects.PkgLocalization" lock-type="optimistic" dbEntityName="pkg_localization" superClassName="org.haiku.haikudepotserver.dataobjects.support.AbstractDataObject">
		<obj-attribute name="createTimestamp" type="java.sql.Timestamp" db-attribute-path="create_timestamp"/>
		<obj-attribute name="description" type="java.lang.String" lock="true" db-attribute-path="description"/>
		<obj-attribute name="modifyTimestamp" type="java.sql.Timestamp" db-attribute-path="modify_timestamp"/>
		<obj-attribute name="summary" type="java.lang.String" lock="true" db-attribute-path="summary"/>
		<obj-attribute name="title" type="java.lang.String" lock="true" db-attribute-path="title"/>
	</obj-entity>
	<obj-entity name="PkgPkgCategory" className="org.haiku.haikudepotserver.dataobjects.PkgPkgCategory" dbEntityName="pkg_pkg_category" superClassName="org.haiku.haikudepotserver.dataobjects.support.AbstractDataObject"/>
	<obj-entity name="PkgProminence" className="org.haiku.haikudepotserver.dataobjects.PkgProminence" lock-type="optimistic" dbEntityName="pkg_prominence" superClassName="org.haiku.haikudepotserver.dataobjects.support.AbstractDataObject"/>
	<obj-entity name="PkgScreenshot" className="org.haiku.haikudepotserver.dataobjects.PkgScreenshot" lock-type="optimistic" dbEntityName="pkg_screenshot" superClassName="org.haiku.haikudepotserver.dataobjects.support.AbstractDataObject">
		<obj-attribute name="code" type="java.lang.String" db-attribute-path="code"/>
		<obj-attribute name="createTimestamp" type="java.sql.Timestamp" db-attribute-path="create_timestamp"/>
		<obj-attribute name="hashSha256" type="java.lang.String" db-attribute-path="hash_sha256"/>
		<obj-attribute name="height" type="java.lang.Integer" db-attribute-path="height"/>
		<obj-attribute name="length" type="java.lang.Integer" db-attribute-path="length"/>
		<obj-attribute name="modifyTimestamp" type="java.sql.Timestamp" db-attribute-path="modify_timestamp"/>
		<obj-attribute name="ordering" type="java.lang.Integer" db-attribute-path="ordering"/>
		<obj-attribute name="width" type="java.lang.Integer" db-attribute-path="width"/>
	</obj-entity>
	<obj-entity name="PkgScreenshotImage" className="org.haiku.haikudepotserver.dataobjects.PkgScreenshotImage" dbEntityName="pkg_screenshot_image" superClassName="org.haiku.haikudepotserver.dataobjects.support.AbstractDataObject">
		<obj-attribute name="data" type="byte[]" db-attribute-path="data"/>
	</obj-entity>
	<obj-entity name="PkgSupplement" className="org.haiku.haikudepotserver.dataobjects.PkgSupplement" lock-type="optimistic" dbEntityName="pkg_supplement" superClassName="org.haiku.haikudepotserver.dataobjects.support.AbstractDataObject">
		<obj-attribute name="basePkgName" type="java.lang.String" lock="true" db-attribute-path="base_pkg_name"/>
		<obj-attribute name="createTimestamp" type="java.sql.Timestamp" db-attribute-path="create_timestamp"/>
		<obj-attribute name="iconModifyTimestamp" type="java.sql.Timestamp" db-attribute-path="icon_modify_timestamp"/>
		<obj-attribute name="modifyTimestamp" type="java.sql.Timestamp" db-attribute-path="modify_timestamp"/>
	</obj-entity>
	<obj-entity name="PkgSupplementModification" className="org.haiku.haikudepotserver.dataobjects.PkgSupplementModification" dbEntityName="pkg_supplement_modification" superClassName="org.haiku.haikudepotserver.dataobjects.support.AbstractDataObject">
		<obj-attribute name="content" type="java.lang.String" db-attribute-path="content"/>
		<obj-attribute name="createTimestamp" type="java.sql.Timestamp" db-attribute-path="create_timestamp"/>
		<obj-attribute name="modifyTimestamp" type="java.sql.Timestamp" db-attribute-path="modify_timestamp"/>
		<obj-attribute name="originSystemDescription" type="java.lang.String" lock="true" db-attribute-path="origin_system_description"/>
		<obj-attribute name="userDescription" type="java.lang.String" lock="true" db-attribute-path="user_description"/>
	</obj-entity>
	<obj-entity name="PkgUrlType" className="org.haiku.haikudepotserver.dataobjects.PkgUrlType" readOnly="true" dbEntityName="pkg_url_type" superClassName="org.haiku.haikudepotserver.dataobjects.support.AbstractDataObject">
		<obj-attribute name="code" type="java.lang.String" lock="true" db-attribute-path="code"/>
	</obj-entity>
	<obj-entity name="PkgUserRatingAggregate" className="org.haiku.haikudepotserver.dataobjects.PkgUserRatingAggregate" lock-type="optimistic" dbEntityName="pkg_user_rating_aggregate" superClassName="org.haiku.haikudepotserver.dataobjects.support.AbstractDataObject">
		<obj-attribute name="derivedRating" type="java.lang.Float" db-attribute-path="derived_rating"/>
		<obj-attribute name="derivedRatingSampleSize" type="java.lang.Integer" db-attribute-path="derived_rating_sample_size"/>
	</obj-entity>
	<obj-entity name="PkgVersion" className="org.haiku.haikudepotserver.dataobjects.PkgVersion" lock-type="optimistic" dbEntityName="pkg_version" superClassName="org.haiku.haikudepotserver.dataobjects.support.AbstractDataObject">
		<obj-attribute name="active" type="java.lang.Boolean" lock="true" db-attribute-path="active"/>
		<obj-attribute name="createTimestamp" type="java.sql.Timestamp" db-attribute-path="create_timestamp"/>
		<obj-attribute name="isLatest" type="java.lang.Boolean" lock="true" db-attribute-path="is_latest"/>
		<obj-attribute name="major" type="java.lang.String" db-attribute-path="major"/>
		<obj-attribute name="micro" type="java.lang.String" db-attribute-path="micro"/>
		<obj-attribute name="minor" type="java.lang.String" db-attribute-path="minor"/>
		<obj-attribute name="modifyTimestamp" type="java.sql.Timestamp" db-attribute-path="modify_timestamp"/>
		<obj-attribute name="payloadLength" type="java.lang.Long" lock="true" db-attribute-path="payload_length"/>
		<obj-attribute name="preRelease" type="java.lang.String" db-attribute-path="pre_release"/>
		<obj-attribute name="revision" type="java.lang.Integer" db-attribute-path="revision"/>
		<obj-attribute name="viewCounter" type="java.lang.Long" lock="true" db-attribute-path="view_counter"/>
	</obj-entity>
	<obj-entity name="PkgVersionCopyright" className="org.haiku.haikudepotserver.dataobjects.PkgVersionCopyright" lock-type="optimistic" dbEntityName="pkg_version_copyright" superClassName="org.haiku.haikudepotserver.dataobjects.support.AbstractDataObject">
		<obj-attribute name="body" type="java.lang.String" lock="true" db-attribute-path="body"/>
	</obj-entity>
	<obj-entity name="PkgVersionLicense" className="org.haiku.haikudepotserver.dataobjects.PkgVersionLicense" lock-type="optimistic" dbEntityName="pkg_version_license" superClassName="org.haiku.haikudepotserver.dataobjects.support.AbstractDataObject">
		<obj-attribute name="body" type="java.lang.String" lock="true" db-attribute-path="body"/>
	</obj-entity>
	<obj-entity name="PkgVersionLocalization" className="org.haiku.haikudepotserver.dataobjects.PkgVersionLocalization" lock-type="optimistic" dbEntityName="pkg_version_localization" superClassName="org.haiku.haikudepotserver.dataobjects.support.AbstractDataObject">
		<obj-attribute name="createTimestamp" type="java.sql.Timestamp" db-attribute-path="create_timestamp"/>
		<obj-attribute name="modifyTimestamp" type="java.sql.Timestamp" db-attribute-path="modify_timestamp"/>
	</obj-entity>
	<obj-entity name="PkgVersionUrl" className="org.haiku.haikudepotserver.dataobjects.PkgVersionUrl" lock-type="optimistic" dbEntityName="pkg_version_url" superClassName="org.haiku.haikudepotserver.dataobjects.support.AbstractDataObject">
		<obj-attribute name="name" type="java.lang.String" lock="true" db-attribute-path="name"/>
		<obj-attribute name="url" type="java.lang.String" lock="true" db-attribute-path="url"/>
	</obj-entity>
	<obj-entity name="Prominence" className="org.haiku.haikudepotserver.dataobjects.Prominence" readOnly="true" dbEntityName="prominence" superClassName="org.haiku.haikudepotserver.dataobjects.support.AbstractDataObject">
		<obj-attribute name="name" type="java.lang.String" db-attribute-path="name"/>
		<obj-attribute name="ordering" type="java.lang.Integer" db-attribute-path="ordering"/>
	</obj-entity>
	<obj-entity name="Repository" className="org.haiku.haikudepotserver.dataobjects.Repository" lock-type="optimistic" dbEntityName="repository" superClassName="org.haiku.haikudepotserver.dataobjects.support.AbstractDataObject">
		<obj-attribute name="active" type="java.lang.Boolean" lock="true" db-attribute-path="active"/>
		<obj-attribute name="code" type="java.lang.String" lock="true" db-attribute-path="code"/>
		<obj-attribute name="createTimestamp" type="java.sql.Timestamp" db-attribute-path="create_timestamp"/>
		<obj-attribute name="description" type="java.lang.String" db-attribute-path="description"/>
		<obj-attribute name="informationUrl" type="java.lang.String" db-attribute-path="information_url"/>
		<obj-attribute name="modifyTimestamp" type="java.sql.Timestamp" db-attribute-path="modify_timestamp"/>
		<obj-attribute name="name" type="java.lang.String" db-attribute-path="name"/>
		<obj-attribute name="passwordHash" type="java.lang.String" lock="true" db-attribute-path="password_hash"/>
		<obj-attribute name="passwordSalt" type="java.lang.String" lock="true" db-attribute-path="password_salt"/>
	</obj-entity>
	<obj-entity name="RepositorySource" className="org.haiku.haikudepotserver.dataobjects.RepositorySource" lock-type="optimistic" dbEntityName="repository_source" superClassName="org.haiku.haikudepotserver.dataobjects.support.AbstractDataObject">
		<obj-attribute name="active" type="java.lang.Boolean" lock="true" db-attribute-path="active"/>
		<obj-attribute name="code" type="java.lang.String" lock="true" db-attribute-path="code"/>
		<obj-attribute name="forcedInternalBaseUrl" type="java.lang.String" lock="true" db-attribute-path="forced_internal_base_url"/>
		<obj-attribute name="identifier" type="java.lang.String" lock="true" db-attribute-path="identifier"/>
		<obj-attribute name="lastImportTimestamp" type="java.sql.Timestamp" db-attribute-path="last_import_timestamp"/>
	</obj-entity>
	<obj-entity name="RepositorySourceExtraIdentifier" className="org.haiku.haikudepotserver.dataobjects.RepositorySourceExtraIdentifier" lock-type="optimistic" dbEntityName="repository_source_extra_identifier" superClassName="org.haiku.haikudepotserver.dataobjects.support.AbstractDataObject">
		<obj-attribute name="identifier" type="java.lang.String" db-attribute-path="identifier"/>
	</obj-entity>
	<obj-entity name="RepositorySourceMirror" className="org.haiku.haikudepotserver.dataobjects.RepositorySourceMirror" lock-type="optimistic" dbEntityName="repository_source_mirror" superClassName="org.haiku.haikudepotserver.dataobjects.support.AbstractDataObject">
		<obj-attribute name="active" type="java.lang.Boolean" lock="true" db-attribute-path="active"/>
		<obj-attribute name="baseUrl" type="java.lang.String" lock="true" db-attribute-path="base_url"/>
		<obj-attribute name="code" type="java.lang.String" lock="true" db-attribute-path="code"/>
		<obj-attribute name="createTimestamp" type="java.sql.Timestamp" db-attribute-path="create_timestamp"/>
		<obj-attribute name="description" type="java.lang.String" lock="true" db-attribute-path="description"/>
		<obj-attribute name="isPrimary" type="java.lang.Boolean" lock="true" db-attribute-path="is_primary"/>
		<obj-attribute name="modifyTimestamp" type="java.sql.Timestamp" db-attribute-path="modify_timestamp"/>
	</obj-entity>
	<obj-entity name="User" className="org.haiku.haikudepotserver.dataobjects.User" lock-type="optimistic" dbEntityName="user" superClassName="org.haiku.haikudepotserver.dataobjects.support.AbstractDataObject">
		<obj-attribute name="active" type="java.lang.Boolean" lock="true" db-attribute-path="active"/>
		<obj-attribute name="canManageUsers" type="java.lang.Boolean" lock="true" db-attribute-path="can_manage_users"/>
		<obj-attribute name="createTimestamp" type="java.sql.Timestamp" db-attribute-path="create_timestamp"/>
		<obj-attribute name="email" type="java.lang.String" lock="true" db-attribute-path="email"/>
		<obj-attribute name="isRoot" type="java.lang.Boolean" lock="true" db-attribute-path="is_root"/>
		<obj-attribute name="lastAuthenticationTimestamp" type="java.sql.Timestamp" db-attribute-path="last_authentication_timestamp"/>
		<obj-attribute name="modifyTimestamp" type="java.sql.Timestamp" db-attribute-path="modify_timestamp"/>
		<obj-attribute name="nickname" type="java.lang.String" lock="true" db-attribute-path="nickname"/>
		<obj-attribute name="passwordHash" type="java.lang.String" lock="true" db-attribute-path="password_hash"/>
		<obj-attribute name="passwordSalt" type="java.lang.String" lock="true" db-attribute-path="password_salt"/>
		<post-add method-name="onPostAdd"/>
	</obj-entity>
	<obj-entity name="UserPasswordResetToken" className="org.haiku.haikudepotserver.dataobjects.UserPasswordResetToken" lock-type="optimistic" dbEntityName="user_password_reset_token" superClassName="org.haiku.haikudepotserver.dataobjects.support.AbstractDataObject">
		<obj-attribute name="code" type="java.lang.String" db-attribute-path="code"/>
		<obj-attribute name="createTimestamp" type="java.sql.Timestamp" db-attribute-path="create_timestamp"/>
	</obj-entity>
	<obj-entity name="UserRating" className="org.haiku.haikudepotserver.dataobjects.UserRating" lock-type="optimistic" dbEntityName="user_rating" superClassName="org.haiku.haikudepotserver.dataobjects.support.AbstractDataObject">
		<obj-attribute name="active" type="java.lang.Boolean" lock="true" db-attribute-path="active"/>
		<obj-attribute name="code" type="java.lang.String" lock="true" db-attribute-path="code"/>
		<obj-attribute name="comment" type="java.lang.String" db-attribute-path="comment"/>
		<obj-attribute name="createTimestamp" type="java.sql.Timestamp" db-attribute-path="create_timestamp"/>
		<obj-attribute name="modifyTimestamp" type="java.sql.Timestamp" db-attribute-path="modify_timestamp"/>
		<obj-attribute name="rating" type="java.lang.Short" lock="true" db-attribute-path="rating"/>
		<post-add method-name="onPostAdd"/>
	</obj-entity>
	<obj-entity name="UserRatingStability" className="org.haiku.haikudepotserver.dataobjects.UserRatingStability" readOnly="true" dbEntityName="user_rating_stability" superClassName="org.haiku.haikudepotserver.dataobjects.support.AbstractDataObject">
		<obj-attribute name="code" type="java.lang.String" db-attribute-path="code"/>
		<obj-attribute name="name" type="java.lang.String" db-attribute-path="name"/>
		<obj-attribute name="ordering" type="java.lang.Integer" db-attribute-path="ordering"/>
	</obj-entity>
	<obj-entity name="UserUsageConditions" className="org.haiku.haikudepotserver.dataobjects.UserUsageConditions" lock-type="optimistic" dbEntityName="user_usage_conditions" superClassName="org.haiku.haikudepotserver.dataobjects.support.AbstractDataObject">
		<obj-attribute name="code" type="java.lang.String" db-attribute-path="code"/>
		<obj-attribute name="copyMarkdown" type="java.lang.String" db-attribute-path="copy_markdown"/>
		<obj-attribute name="minimumAge" type="java.lang.Integer" db-attribute-path="minimum_age"/>
		<obj-attribute name="ordering" type="java.lang.Integer" db-attribute-path="ordering"/>
	</obj-entity>
	<obj-entity name="UserUsageConditionsAgreement" className="org.haiku.haikudepotserver.dataobjects.UserUsageConditionsAgreement" lock-type="optimistic" dbEntityName="user_usage_conditions_agreement" superClassName="org.haiku.haikudepotserver.dataobjects.support.AbstractDataObject">
		<obj-attribute name="active" type="java.lang.Boolean" lock="true" db-attribute-path="active"/>
		<obj-attribute name="timestampAgreed" type="java.sql.Timestamp" db-attribute-path="timestamp_agreed"/>
		<post-add method-name="onPostAdd"/>
	</obj-entity>
	<db-relationship name="untitledRel" source="architecture" target="repository_source" toMany="true">
		<db-attribute-pair source="id" target="architecture_id"/>
	</db-relationship>
	<db-relationship name="repository_source_mirrors" source="country" target="repository_source_mirror" toMany="true">
		<db-attribute-pair source="id" target="country_id"/>
	</db-relationship>
	<db-relationship name="untitledRel" source="media_type" target="pkg_icon" toMany="true">
		<db-attribute-pair source="id" target="media_type_id"/>
	</db-relationship>
	<db-relationship name="untitledRel1" source="media_type" target="pkg_screenshot_image" toMany="true">
		<db-attribute-pair source="id" target="media_type_id"/>
	</db-relationship>
	<db-relationship name="pkg_version_localizations" source="natural_language" target="pkg_version_localization" toMany="true">
		<db-attribute-pair source="id" target="natural_language_id"/>
	</db-relationship>
	<db-relationship name="untitledRel" source="natural_language" target="pkg_localization" toMany="true">
		<db-attribute-pair source="id" target="natural_language_id"/>
	</db-relationship>
	<db-relationship name="user_ratings" source="natural_language" target="user_rating" toMany="true">
		<db-attribute-pair source="id" target="natural_language_id"/>
	</db-relationship>
	<db-relationship name="users" source="natural_language" target="user" toMany="true">
		<db-attribute-pair source="id" target="natural_language_id"/>
	</db-relationship>
	<db-relationship name="untitledRel" source="permission" target="permission_user_pkg" toMany="true">
		<db-attribute-pair source="id" target="permission_id"/>
	</db-relationship>
	<db-relationship name="permission" source="permission_user_pkg" target="permission">
		<db-attribute-pair source="permission_id" target="id"/>
	</db-relationship>
	<db-relationship name="pkg" source="permission_user_pkg" target="pkg">
		<db-attribute-pair source="pkg_id" target="id"/>
	</db-relationship>
	<db-relationship name="user" source="permission_user_pkg" target="user">
		<db-attribute-pair source="user_id" target="id"/>
	</db-relationship>
	<db-relationship name="permission_user_pkgs" source="pkg" target="permission_user_pkg" toMany="true">
		<db-attribute-pair source="id" target="pkg_id"/>
	</db-relationship>
	<db-relationship name="pkg_prominences" source="pkg" target="pkg_prominence" toMany="true">
		<db-attribute-pair source="id" target="pkg_id"/>
	</db-relationship>
	<db-relationship name="pkg_supplement" source="pkg" target="pkg_supplement">
		<db-attribute-pair source="pkg_supplement_id" target="id"/>
	</db-relationship>
	<db-relationship name="pkg_user_rating_aggregates" source="pkg" target="pkg_user_rating_aggregate" toMany="true">
		<db-attribute-pair source="id" target="pkg_id"/>
	</db-relationship>
	<db-relationship name="pkg_pkg_categories" source="pkg_category" target="pkg_pkg_category" toMany="true">
		<db-attribute-pair source="id" target="pkg_category_id"/>
	</db-relationship>
	<db-relationship name="pkg_supplement" source="pkg_changelog" target="pkg_supplement">
		<db-attribute-pair source="pkg_supplement_id" target="id"/>
	</db-relationship>
	<db-relationship name="media_type" source="pkg_icon" target="media_type">
		<db-attribute-pair source="media_type_id" target="id"/>
	</db-relationship>
	<db-relationship name="pkg_icon_images" source="pkg_icon" target="pkg_icon_image" toMany="true">
		<db-attribute-pair source="id" target="pkg_icon_id"/>
	</db-relationship>
	<db-relationship name="pkg_supplement" source="pkg_icon" target="pkg_supplement">
		<db-attribute-pair source="pkg_supplement_id" target="id"/>
	</db-relationship>
	<db-relationship name="pkg_icon" source="pkg_icon_image" target="pkg_icon">
		<db-attribute-pair source="pkg_icon_id" target="id"/>
	</db-relationship>
	<db-relationship name="natural_language" source="pkg_localization" target="natural_language">
		<db-attribute-pair source="natural_language_id" target="id"/>
	</db-relationship>
	<db-relationship name="pkg_supplement" source="pkg_localization" target="pkg_supplement">
		<db-attribute-pair source="pkg_supplement_id" target="id"/>
	</db-relationship>
	<db-relationship name="pkg_category" source="pkg_pkg_category" target="pkg_category">
		<db-attribute-pair source="pkg_category_id" target="id"/>
	</db-relationship>
	<db-relationship name="pkg_supplement" source="pkg_pkg_category" target="pkg_supplement">
		<db-attribute-pair source="pkg_supplement_id" target="id"/>
	</db-relationship>
	<db-relationship name="pkg" source="pkg_prominence" target="pkg">
		<db-attribute-pair source="pkg_id" target="id"/>
	</db-relationship>
	<db-relationship name="prominence" source="pkg_prominence" target="prominence">
		<db-attribute-pair source="prominence_id" target="id"/>
	</db-relationship>
	<db-relationship name="repository" source="pkg_prominence" target="repository">
		<db-attribute-pair source="repository_id" target="id"/>
	</db-relationship>
	<db-relationship name="pkg_screenshot_images" source="pkg_screenshot" target="pkg_screenshot_image" toMany="true">
		<db-attribute-pair source="id" target="pkg_screenshot_id"/>
	</db-relationship>
	<db-relationship name="pkg_supplement" source="pkg_screenshot" target="pkg_supplement">
		<db-attribute-pair source="pkg_supplement_id" target="id"/>
	</db-relationship>
	<db-relationship name="media_type" source="pkg_screenshot_image" target="media_type">
		<db-attribute-pair source="media_type_id" target="id"/>
	</db-relationship>
	<db-relationship name="pkg_screenshot" source="pkg_screenshot_image" target="pkg_screenshot">
		<db-attribute-pair source="pkg_screenshot_id" target="id"/>
	</db-relationship>
	<db-relationship name="pkg_changelogs" source="pkg_supplement" target="pkg_changelog" toMany="true">
		<db-attribute-pair source="id" target="pkg_supplement_id"/>
	</db-relationship>
	<db-relationship name="pkg_icons" source="pkg_supplement" target="pkg_icon" toMany="true">
		<db-attribute-pair source="id" target="pkg_supplement_id"/>
	</db-relationship>
	<db-relationship name="pkg_localizations" source="pkg_supplement" target="pkg_localization" toMany="true">
		<db-attribute-pair source="id" target="pkg_supplement_id"/>
	</db-relationship>
	<db-relationship name="pkg_pkg_categories" source="pkg_supplement" target="pkg_pkg_category" toMany="true">
		<db-attribute-pair source="id" target="pkg_supplement_id"/>
	</db-relationship>
	<db-relationship name="pkg_screenshots" source="pkg_supplement" target="pkg_screenshot" toMany="true">
		<db-attribute-pair source="id" target="pkg_supplement_id"/>
	</db-relationship>
	<db-relationship name="pkgs" source="pkg_supplement" target="pkg" toMany="true">
		<db-attribute-pair source="id" target="pkg_supplement_id"/>
	</db-relationship>
	<db-relationship name="untitledRel" source="pkg_supplement" target="pkg_supplement_modification" toMany="true">
		<db-attribute-pair source="id" target="pkg_supplement_id"/>
	</db-relationship>
	<db-relationship name="pkg_supplement" source="pkg_supplement_modification" target="pkg_supplement">
		<db-attribute-pair source="pkg_supplement_id" target="id"/>
	</db-relationship>
	<db-relationship name="user" source="pkg_supplement_modification" target="user">
		<db-attribute-pair source="user_id" target="id"/>
	</db-relationship>
	<db-relationship name="pkg" source="pkg_user_rating_aggregate" target="pkg">
		<db-attribute-pair source="pkg_id" target="id"/>
	</db-relationship>
	<db-relationship name="repository" source="pkg_user_rating_aggregate" target="repository">
		<db-attribute-pair source="repository_id" target="id"/>
	</db-relationship>
	<db-relationship name="architecture" source="pkg_version" target="architecture">
		<db-attribute-pair source="architecture_id" target="id"/>
	</db-relationship>
	<db-relationship name="pkg" source="pkg_version" target="pkg">
		<db-attribute-pair source="pkg_id" target="id"/>
	</db-relationship>
	<db-relationship name="pkg_version_copyrights" source="pkg_version" target="pkg_version_copyright" toMany="true">
		<db-attribute-pair source="id" target="pkg_version_id"/>
	</db-relationship>
	<db-relationship name="pkg_version_licenses" source="pkg_version" target="pkg_version_license" toMany="true">
		<db-attribute-pair source="id" target="pkg_version_id"/>
	</db-relationship>
	<db-relationship name="pkg_version_localizations" source="pkg_version" target="pkg_version_localization" toMany="true">
		<db-attribute-pair source="id" target="pkg_version_id"/>
	</db-relationship>
	<db-relationship name="pkg_version_urls" source="pkg_version" target="pkg_version_url" toMany="true">
		<db-attribute-pair source="id" target="pkg_version_id"/>
	</db-relationship>
	<db-relationship name="repository_source" source="pkg_version" target="repository_source">
		<db-attribute-pair source="repository_source_id" target="id"/>
	</db-relationship>
	<db-relationship name="user_ratings" source="pkg_version" target="user_rating" toMany="true">
		<db-attribute-pair source="id" target="pkg_version_id"/>
	</db-relationship>
	<db-relationship name="pkg_version" source="pkg_version_copyright" target="pkg_version">
		<db-attribute-pair source="pkg_version_id" target="id"/>
	</db-relationship>
	<db-relationship name="pkg_version" source="pkg_version_license" target="pkg_version">
		<db-attribute-pair source="pkg_version_id" target="id"/>
	</db-relationship>
	<db-relationship name="description_localization_content" source="pkg_version_localization" target="localization_content">
		<db-attribute-pair source="description_localization_content_id" target="id"/>
	</db-relationship>
	<db-relationship name="natural_language" source="pkg_version_localization" target="natural_language">
		<db-attribute-pair source="natural_language_id" target="id"/>
	</db-relationship>
	<db-relationship name="pkg_version" source="pkg_version_localization" target="pkg_version">
		<db-attribute-pair source="pkg_version_id" target="id"/>
	</db-relationship>
	<db-relationship name="summary_localization_content" source="pkg_version_localization" target="localization_content">
		<db-attribute-pair source="summary_localization_content_id" target="id"/>
	</db-relationship>
	<db-relationship name="title_localization_content" source="pkg_version_localization" target="localization_content">
		<db-attribute-pair source="title_localization_content_id" target="id"/>
	</db-relationship>
	<db-relationship name="pkg_url_type" source="pkg_version_url" target="pkg_url_type">
		<db-attribute-pair source="pkg_url_type_id" target="id"/>
	</db-relationship>
	<db-relationship name="pkg_version" source="pkg_version_url" target="pkg_version">
		<db-attribute-pair source="pkg_version_id" target="id"/>
	</db-relationship>
	<db-relationship name="pkg_prominences" source="prominence" target="pkg_prominence" toMany="true">
		<db-attribute-pair source="id" target="prominence_id"/>
	</db-relationship>
	<db-relationship name="repository_sources" source="repository" target="repository_source" toMany="true">
		<db-attribute-pair source="id" target="repository_id"/>
	</db-relationship>
	<db-relationship name="untitledRel" source="repository" target="pkg_prominence" toMany="true">
		<db-attribute-pair source="id" target="repository_id"/>
	</db-relationship>
	<db-relationship name="untitledRel1" source="repository" target="pkg_user_rating_aggregate" toMany="true">
		<db-attribute-pair source="id" target="repository_id"/>
	</db-relationship>
	<db-relationship name="architecture" source="repository_source" target="architecture">
		<db-attribute-pair source="architecture_id" target="id"/>
	</db-relationship>
	<db-relationship name="pkg_versions" source="repository_source" target="pkg_version" toMany="true">
		<db-attribute-pair source="id" target="repository_source_id"/>
	</db-relationship>
	<db-relationship name="repository" source="repository_source" target="repository">
		<db-attribute-pair source="repository_id" target="id"/>
	</db-relationship>
	<db-relationship name="repository_source_extra_identifiers" source="repository_source" target="repository_source_extra_identifier" toMany="true">
		<db-attribute-pair source="id" target="repository_source_id"/>
	</db-relationship>
	<db-relationship name="repository_source_mirrors" source="repository_source" target="repository_source_mirror" toMany="true">
		<db-attribute-pair source="id" target="repository_source_id"/>
	</db-relationship>
	<db-relationship name="repository_source" source="repository_source_extra_identifier" target="repository_source">
		<db-attribute-pair source="repository_source_id" target="id"/>
	</db-relationship>
	<db-relationship name="country" source="repository_source_mirror" target="country">
		<db-attribute-pair source="country_id" target="id"/>
	</db-relationship>
	<db-relationship name="repository_source" source="repository_source_mirror" target="repository_source">
		<db-attribute-pair source="repository_source_id" target="id"/>
	</db-relationship>
	<db-relationship name="natural_language" source="user" target="natural_language">
		<db-attribute-pair source="natural_language_id" target="id"/>
	</db-relationship>
	<db-relationship name="permission_user_pkgs" source="user" target="permission_user_pkg" toMany="true">
		<db-attribute-pair source="id" target="user_id"/>
	</db-relationship>
	<db-relationship name="untitledRel" source="user" target="pkg_supplement_modification" toMany="true">
		<db-attribute-pair source="id" target="user_id"/>
	</db-relationship>
	<db-relationship name="user_password_reset_tokens" source="user" target="user_password_reset_token" toMany="true">
		<db-attribute-pair source="id" target="user_id"/>
	</db-relationship>
	<db-relationship name="user_ratings" source="user" target="user_rating" toMany="true">
		<db-attribute-pair source="id" target="user_id"/>
	</db-relationship>
	<db-relationship name="user_usage_conditions_agreements" source="user" target="user_usage_conditions_agreement" toMany="true">
		<db-attribute-pair source="id" target="user_id"/>
	</db-relationship>
	<db-relationship name="user" source="user_password_reset_token" target="user">
		<db-attribute-pair source="user_id" target="id"/>
	</db-relationship>
	<db-relationship name="natural_language" source="user_rating" target="natural_language">
		<db-attribute-pair source="natural_language_id" target="id"/>
	</db-relationship>
	<db-relationship name="pkg_version" source="user_rating" target="pkg_version">
		<db-attribute-pair source="pkg_version_id" target="id"/>
	</db-relationship>
	<db-relationship name="user" source="user_rating" target="user">
		<db-attribute-pair source="user_id" target="id"/>
	</db-relationship>
	<db-relationship name="user_rating_stability" source="user_rating" target="user_rating_stability">
		<db-attribute-pair source="user_rating_stability_id" target="id"/>
	</db-relationship>
	<db-relationship name="user_ratings" source="user_rating_stability" target="user_rating" toMany="true">
		<db-attribute-pair source="id" target="user_rating_stability_id"/>
	</db-relationship>
	<db-relationship name="user_usage_conditions_agreements" source="user_usage_conditions" target="user_usage_conditions_agreement" toMany="true">
		<db-attribute-pair source="id" target="user_usage_conditions_id"/>
	</db-relationship>
	<db-relationship name="user" source="user_usage_conditions_agreement" target="user">
		<db-attribute-pair source="user_id" target="id"/>
	</db-relationship>
	<db-relationship name="user_usage_conditions" source="user_usage_conditions_agreement" target="user_usage_conditions">
		<db-attribute-pair source="user_usage_conditions_id" target="id"/>
	</db-relationship>
	<obj-relationship name="permission" source="PermissionUserPkg" target="Permission" deleteRule="Nullify" db-relationship-path="permission"/>
	<obj-relationship name="pkg" source="PermissionUserPkg" target="Pkg" deleteRule="Nullify" db-relationship-path="pkg"/>
	<obj-relationship name="user" source="PermissionUserPkg" target="User" deleteRule="Nullify" db-relationship-path="user"/>
	<obj-relationship name="permissionUserPkgs" source="Pkg" target="PermissionUserPkg" deleteRule="Cascade" db-relationship-path="permission_user_pkgs"/>
	<obj-relationship name="pkgProminences" source="Pkg" target="PkgProminence" deleteRule="Cascade" db-relationship-path="pkg_prominences"/>
	<obj-relationship name="pkgSupplement" source="Pkg" target="PkgSupplement" deleteRule="Nullify" db-relationship-path="pkg_supplement"/>
	<obj-relationship name="pkgUserRatingAggregates" source="Pkg" target="PkgUserRatingAggregate" deleteRule="Cascade" db-relationship-path="pkg_user_rating_aggregates"/>
	<obj-relationship name="pkgSupplement" source="PkgChangelog" target="PkgSupplement" deleteRule="Nullify" db-relationship-path="pkg_supplement"/>
	<obj-relationship name="mediaType" source="PkgIcon" target="MediaType" deleteRule="Nullify" db-relationship-path="media_type"/>
	<obj-relationship name="pkgIconImages" source="PkgIcon" target="PkgIconImage" deleteRule="Deny" db-relationship-path="pkg_icon_images"/>
	<obj-relationship name="pkgSupplement" source="PkgIcon" target="PkgSupplement" deleteRule="Nullify" db-relationship-path="pkg_supplement"/>
	<obj-relationship name="pkgIcon" source="PkgIconImage" target="PkgIcon" deleteRule="Nullify" db-relationship-path="pkg_icon"/>
	<obj-relationship name="naturalLanguage" source="PkgLocalization" target="NaturalLanguage" deleteRule="Nullify" db-relationship-path="natural_language"/>
	<obj-relationship name="pkgSupplement" source="PkgLocalization" target="PkgSupplement" deleteRule="Nullify" db-relationship-path="pkg_supplement"/>
	<obj-relationship name="pkgCategory" source="PkgPkgCategory" target="PkgCategory" deleteRule="Nullify" db-relationship-path="pkg_category"/>
	<obj-relationship name="pkgSupplement" source="PkgPkgCategory" target="PkgSupplement" deleteRule="Nullify" db-relationship-path="pkg_supplement"/>
	<obj-relationship name="pkg" source="PkgProminence" target="Pkg" deleteRule="Nullify" db-relationship-path="pkg"/>
	<obj-relationship name="prominence" source="PkgProminence" target="Prominence" deleteRule="Nullify" db-relationship-path="prominence"/>
	<obj-relationship name="repository" source="PkgProminence" target="Repository" deleteRule="Nullify" db-relationship-path="repository"/>
	<obj-relationship name="pkgScreenshotImages" source="PkgScreenshot" target="PkgScreenshotImage" deleteRule="Deny" db-relationship-path="pkg_screenshot_images"/>
	<obj-relationship name="pkgSupplement" source="PkgScreenshot" target="PkgSupplement" deleteRule="Nullify" db-relationship-path="pkg_supplement"/>
	<obj-relationship name="mediaType" source="PkgScreenshotImage" target="MediaType" deleteRule="Nullify" db-relationship-path="media_type"/>
	<obj-relationship name="pkgScreenshot" source="PkgScreenshotImage" target="PkgScreenshot" deleteRule="Nullify" db-relationship-path="pkg_screenshot"/>
	<obj-relationship name="pkgChangelogs" source="PkgSupplement" target="PkgChangelog" deleteRule="Deny" db-relationship-path="pkg_changelogs"/>
	<obj-relationship name="pkgIcons" source="PkgSupplement" target="PkgIcon" deleteRule="Deny" db-relationship-path="pkg_icons"/>
	<obj-relationship name="pkgLocalizations" source="PkgSupplement" target="PkgLocalization" deleteRule="Deny" db-relationship-path="pkg_localizations"/>
	<obj-relationship name="pkgPkgCategories" source="PkgSupplement" target="PkgPkgCategory" deleteRule="Deny" db-relationship-path="pkg_pkg_categories"/>
	<obj-relationship name="pkgScreenshots" source="PkgSupplement" target="PkgScreenshot" deleteRule="Deny" db-relationship-path="pkg_screenshots"/>
	<obj-relationship name="pkgs" source="PkgSupplement" target="Pkg" deleteRule="Deny" db-relationship-path="pkgs"/>
	<obj-relationship name="pkgSupplement" source="PkgSupplementModification" target="PkgSupplement" lock="true" deleteRule="Nullify" db-relationship-path="pkg_supplement"/>
	<obj-relationship name="user" source="PkgSupplementModification" target="User" deleteRule="Nullify" db-relationship-path="user"/>
	<obj-relationship name="pkg" source="PkgUserRatingAggregate" target="Pkg" deleteRule="Nullify" db-relationship-path="pkg"/>
	<obj-relationship name="repository" source="PkgUserRatingAggregate" target="Repository" deleteRule="Nullify" db-relationship-path="repository"/>
	<obj-relationship name="architecture" source="PkgVersion" target="Architecture" deleteRule="Nullify" db-relationship-path="architecture"/>
	<obj-relationship name="pkg" source="PkgVersion" target="Pkg" deleteRule="Nullify" db-relationship-path="pkg"/>
	<obj-relationship name="pkgVersionCopyrights" source="PkgVersion" target="PkgVersionCopyright" deleteRule="Deny" db-relationship-path="pkg_version_copyrights"/>
	<obj-relationship name="pkgVersionLicenses" source="PkgVersion" target="PkgVersionLicense" deleteRule="Deny" db-relationship-path="pkg_version_licenses"/>
	<obj-relationship name="pkgVersionLocalizations" source="PkgVersion" target="PkgVersionLocalization" deleteRule="Nullify" db-relationship-path="pkg_version_localizations"/>
	<obj-relationship name="pkgVersionUrls" source="PkgVersion" target="PkgVersionUrl" deleteRule="Deny" db-relationship-path="pkg_version_urls"/>
	<obj-relationship name="repositorySource" source="PkgVersion" target="RepositorySource" deleteRule="Nullify" db-relationship-path="repository_source"/>
	<obj-relationship name="pkgVersion" source="PkgVersionCopyright" target="PkgVersion" deleteRule="Nullify" db-relationship-path="pkg_version"/>
	<obj-relationship name="pkgVersion" source="PkgVersionLicense" target="PkgVersion" deleteRule="Nullify" db-relationship-path="pkg_version"/>
	<obj-relationship name="descriptionLocalizationContent" source="PkgVersionLocalization" target="LocalizationContent" deleteRule="Nullify" db-relationship-path="description_localization_content"/>
	<obj-relationship name="naturalLanguage" source="PkgVersionLocalization" target="NaturalLanguage" deleteRule="Nullify" db-relationship-path="natural_language"/>
	<obj-relationship name="pkgVersion" source="PkgVersionLocalization" target="PkgVersion" deleteRule="Nullify" db-relationship-path="pkg_version"/>
	<obj-relationship name="summaryLocalizationContent" source="PkgVersionLocalization" target="LocalizationContent" deleteRule="Nullify" db-relationship-path="summary_localization_content"/>
	<obj-relationship name="titleLocalizationContent" source="PkgVersionLocalization" target="LocalizationContent" deleteRule="Nullify" db-relationship-path="title_localization_content"/>
	<obj-relationship name="pkgUrlType" source="PkgVersionUrl" target="PkgUrlType" deleteRule="Nullify" db-relationship-path="pkg_url_type"/>
	<obj-relationship name="pkgVersion" source="PkgVersionUrl" target="PkgVersion" deleteRule="Nullify" db-relationship-path="pkg_version"/>
	<obj-relationship name="repositorySources" source="Repository" target="RepositorySource" deleteRule="Deny" db-relationship-path="repository_sources"/>
	<obj-relationship name="architecture" source="RepositorySource" target="Architecture" deleteRule="Nullify" db-relationship-path="architecture"/>
	<obj-relationship name="pkg_versions" source="RepositorySource" target="PkgVersion" deleteRule="Deny" db-relationship-path="pkg_versions"/>
	<obj-relationship name="repository" source="RepositorySource" target="Repository" deleteRule="Nullify" db-relationship-path="repository"/>
	<obj-relationship name="repositorySourceExtraIdentifiers" source="RepositorySource" target="RepositorySourceExtraIdentifier" deleteRule="Cascade" db-relationship-path="repository_source_extra_identifiers"/>
	<obj-relationship name="repositorySourceMirrors" source="RepositorySource" target="RepositorySourceMirror" deleteRule="Cascade" db-relationship-path="repository_source_mirrors"/>
	<obj-relationship name="repositorySource" source="RepositorySourceExtraIdentifier" target="RepositorySource" deleteRule="Nullify" db-relationship-path="repository_source"/>
	<obj-relationship name="country" source="RepositorySourceMirror" target="Country" deleteRule="Nullify" db-relationship-path="country"/>
	<obj-relationship name="repositorySource" source="RepositorySourceMirror" target="RepositorySource" deleteRule="Nullify" db-relationship-path="repository_source"/>
	<obj-relationship name="naturalLanguage" source="User" target="NaturalLanguage" deleteRule="Nullify" db-relationship-path="natural_language"/>
	<obj-relationship name="permissionUserPkgs" source="User" target="PermissionUserPkg" deleteRule="Cascade" db-relationship-path="permission_user_pkgs"/>
	<obj-relationship name="userPasswordResetTokens" source="User" target="UserPasswordResetToken" deleteRule="Cascade" db-relationship-path="user_password_reset_tokens"/>
	<obj-relationship name="userUsageConditionsAgreements" source="User" target="UserUsageConditionsAgreement" deleteRule="Deny" db-relationship-path="user_usage_conditions_agreements"/>
	<obj-relationship name="user" source="UserPasswordResetToken" target="User" deleteRule="Nullify" db-relationship-path="user"/>
	<obj-relationship name="naturalLanguage" source="UserRating" target="NaturalLanguage" deleteRule="Nullify" db-relationship-path="natural_language"/>
	<obj-relationship name="pkgVersion" source="UserRating" target="PkgVersion" deleteRule="Nullify" db-relationship-path="pkg_version"/>
	<obj-relationship name="user" source="UserRating" target="User" deleteRule="Nullify" db-relationship-path="user"/>
	<obj-relationship name="userRatingStability" source="UserRating" target="UserRatingStability" deleteRule="Nullify" db-relationship-path="user_rating_stability"/>
	<obj-relationship name="user" source="UserUsageConditionsAgreement" target="User" lock="true" deleteRule="Nullify" db-relationship-path="user"/>
	<obj-relationship name="userUsageConditions" source="UserUsageConditionsAgreement" target="UserUsageConditions" deleteRule="Nullify" db-relationship-path="user_usage_conditions"/>
	<query name="AllPkgIcons" type="SQLTemplate" root="data-map" root-name="HaikuDepot">
		<property name="cayenne.GenericSelectQuery.fetchingDataRows" value="true"/>
		<sql adapter-class="org.apache.cayenne.dba.postgres.PostgresAdapter"><![CDATA[SELECT
  #result('p.name' 'String' 'pkg_name'),
  #result('pi.size' 'Integer' 'size'),
  #result('mt.code' 'String' 'media_type_code'),
  #result('pii.data' 'byte[]' 'payload'),
  #result('ps.icon_modify_timestamp' 'java.sql.Timestamp' 'modify_timestamp')
FROM
  haikudepot.pkg_supplement ps
  JOIN haikudepot.pkg p ON p.pkg_supplement_id = ps.id
  JOIN haikudepot.pkg_icon pi ON pi.pkg_supplement_id = ps.id
  JOIN haikudepot.pkg_icon_image pii ON pii.pkg_icon_id = pi.id
  JOIN haikudepot.media_type mt ON mt.id = pi.media_type_id
ORDER BY
  p.name ASC,
  mt.code ASC,
  pi.size ASC]]></sql>
	</query>
	<query name="AllPkgScreenshots" type="SQLTemplate" root="data-map" root-name="HaikuDepot">
		<property name="cayenne.GenericSelectQuery.fetchingDataRows" value="true"/>
		<sql adapter-class="org.apache.cayenne.dba.postgres.PostgresAdapter"><![CDATA[SELECT
  #result('p.name' 'String' 'pkg_name'),
  #result('psi.data' 'byte[]' 'payload'),
  #result('psup.modify_timestamp' 'java.sql.Timestamp' 'modify_timestamp'),
  #result('ps.ordering' 'Integer' 'ordering')
FROM
  haikudepot.pkg_supplement psup
  JOIN haikudepot.pkg p ON p.pkg_supplement_id = psup.id
  JOIN haikudepot.pkg_screenshot ps ON ps.pkg_supplement_id = psup.id
  JOIN haikudepot.pkg_screenshot_image psi ON psi.pkg_screenshot_id = ps.id
WHERE 1=1
#if($pkgName)
  AND p.name = #bind($pkgName)
#end
ORDER BY
  p.name ASC,
  ps.ordering ASC]]></sql>
	</query>
	<query name="PkgNamesForRepositorySource" type="SQLTemplate" root="obj-entity" root-name="PkgVersion">
		<property name="cayenne.GenericSelectQuery.fetchingDataRows" value="false"/>
		<sql adapter-class="org.apache.cayenne.dba.postgres.PostgresAdapter"><![CDATA[SELECT
  #result('p.name' 'String' 'name')
FROM
  haikudepot.pkg_version pv
  JOIN haikudepot.pkg p ON p.id = pv.pkg_id
  JOIN haikudepot.repository_source rs ON rs.id = pv.repository_source_id
  JOIN haikudepot.repository r ON r.id = rs.repository_id
  JOIN haikudepot.pkg_prominence ppr ON ppr.pkg_id = p.id AND ppr.repository_id = r.id
  JOIN haikudepot.prominence pr ON pr.id = ppr.prominence_id
WHERE 1 = 1
  AND rs.code = #bind($repositorySourceCode)
  AND pv.active = true
  AND p.active = true
  AND pv.is_latest = true
ORDER BY
  pr.ordering ASC,
  p.name ASC]]></sql>
	</query>
	<query name="PkgVersionLocalizationResolution" type="SQLTemplate" root="data-map" root-name="HaikuDepot">
		<property name="cayenne.GenericSelectQuery.fetchingDataRows" value="true"/>
		<sql adapter-class="org.apache.cayenne.dba.postgres.PostgresAdapter"><![CDATA[WITH
t_loc_pv_l AS (
  SELECT
    pv.id as pv_id,
    pvl_summary_c.content AS summary,
    pvl_description_c.content AS description,
    pvl_title_c.content AS title
  FROM
    haikudepot.pkg_version pv
    LEFT JOIN haikudepot.pkg_version_localization pvl_l
       ON pvl_l.pkg_version_id = pv.id
    LEFT JOIN haikudepot.localization_content pvl_title_c
  	  ON pvl_title_c.id = pvl_l.title_localization_content_id
    LEFT JOIN haikudepot.localization_content pvl_summary_c
	  ON pvl_summary_c.id = pvl_l.summary_localization_content_id
    LEFT JOIN haikudepot.localization_content pvl_description_c
  	  ON pvl_description_c.id = pvl_l.description_localization_content_id
    LEFT JOIN haikudepot.natural_language nl
  	  ON nl.id = pvl_l.natural_language_id
  WHERE
    pv.id IN (#bind($pkgVersionIds))
    AND nl.id = #bind($naturalLanguageId)
),
t_loc_pv_e AS (
  SELECT
    pv.id as pv_id,
    pvl_summary_c.content AS summary,
    pvl_description_c.content AS description,
    pvl_title_c.content AS title
  FROM
    haikudepot.pkg_version pv
    LEFT JOIN haikudepot.pkg_version_localization pvl_l
           ON pvl_l.pkg_version_id = pv.id
    LEFT JOIN haikudepot.localization_content pvl_title_c
  	  ON pvl_title_c.id = pvl_l.title_localization_content_id
    LEFT JOIN haikudepot.localization_content pvl_summary_c
	  ON pvl_summary_c.id = pvl_l.summary_localization_content_id
    LEFT JOIN haikudepot.localization_content pvl_description_c
  	  ON pvl_description_c.id = pvl_l.description_localization_content_id
    LEFT JOIN haikudepot.natural_language nl ON nl.id = pvl_l.natural_language_id
  WHERE
    pv.id IN (#bind($pkgVersionIds))
    AND nl.id = #bind($englishNaturalLanguageId)
),
t_loc_p_l AS (
  SELECT
    pv.id AS pv_id,
    pl.summary AS summary,
    pl.description AS description,
    pl.title AS title
  FROM
    haikudepot.pkg_version pv
    JOIN haikudepot.pkg p ON p.id = pv.pkg_id
    JOIN haikudepot.pkg_supplement ps ON ps.id = p.pkg_supplement_id
    LEFT JOIN haikudepot.pkg_localization pl ON pl.pkg_supplement_id = ps.id
    LEFT JOIN haikudepot.natural_language nl ON nl.id = pl.natural_language_id
  WHERE
    pv.id IN (#bind($pkgVersionIds))
    AND nl.id = #bind($naturalLanguageId)
),
t_loc_p_e AS (
  SELECT
    pv.id AS pv_id,
    pl.summary AS summary,
    pl.description AS description,
    pl.title AS title
  FROM
    haikudepot.pkg_version pv
    JOIN haikudepot.pkg p ON p.id = pv.pkg_id
    JOIN haikudepot.pkg_supplement ps ON ps.id = p.pkg_supplement_id
    LEFT JOIN haikudepot.pkg_localization pl ON pl.pkg_supplement_id = ps.id
    LEFT JOIN haikudepot.natural_language nl ON nl.id = pl.natural_language_id
  WHERE
    pv.id IN (#bind($pkgVersionIds))
    AND nl.id = #bind($englishNaturalLanguageId)
)
SELECT
  #result('pv.id' 'Long' 'pv_id'),
  #result("COALESCE(
  	t_loc_pv_l.title,
  	t_loc_p_l.title,
  	t_loc_pv_e.title,
  	t_loc_p_e.title,
	p.name,
    '?')" 'String' 'title'),
  #result("COALESCE(
  	t_loc_pv_l.summary,
  	t_loc_p_l.summary,
  	t_loc_pv_e.summary,
  	t_loc_p_e.summary,
    '?')" 'String' 'summary'),
  #result("COALESCE(
  	t_loc_pv_l.description,
  	t_loc_p_l.description,
  	t_loc_pv_e.description,
  	t_loc_p_e.description,
    '?')" 'String' 'description')
FROM
  haikudepot.pkg_version pv
  JOIN haikudepot.pkg p ON p.id = pv.pkg_id
  LEFT JOIN t_loc_pv_l ON t_loc_pv_l.pv_id = pv.id
  LEFT JOIN t_loc_p_l ON t_loc_p_l.pv_id = pv.id
  LEFT JOIN t_loc_pv_e ON t_loc_pv_e.pv_id = pv.id
  LEFT JOIN t_loc_p_e ON t_loc_p_e.pv_id = pv.id
WHERE
  pv.id IN (#bind($pkgVersionIds))
ORDER BY
  pv.id DESC]]></sql>
	</query>
	<query name="SearchPkgVersions" type="SQLTemplate" root="obj-entity" root-name="PkgVersion">
		<property name="cayenne.GenericSelectQuery.cacheStrategy" value="NO_CACHE"/>
		<property name="cayenne.GenericSelectQuery.fetchOffset" value="0"/>
		<property name="cayenne.GenericSelectQuery.fetchingDataRows" value="false"/>
		<sql adapter-class="org.apache.cayenne.dba.postgres.PostgresAdapter"><![CDATA[SELECT
#if($isTotal)
COUNT(DISTINCT pv.id) AS "total"
#else
    #result('pv.active', 'boolean', 'active'),
    #result('pv.architecture_id', 'long', 'architecture_id'),
    #result('pv.create_timestamp', 'java.sql.Timestamp', 'create_timestamp'),
    #result('pv.id', 'long', 'id'),
    #result('pv.major', 'String', 'major'),
    #result('pv.minor', 'String', 'minor'),
    #result('pv.micro', 'String', 'micro'),
    #result('pv.modify_timestamp', 'java.sql.Timestamp', 'modify_timestamp'),
    #result('pv.pkg_id', 'long', 'pkg_id'),
    #result('pv.pre_release', 'String', 'pre_release'),
    #result('pv.repository_source_id', 'long', 'repository_source_id'),
    #result('pv.revision', 'Integer', 'revision'),
    #result('pv.view_counter', 'long', 'view_counter'),
    #result('pv.is_latest', 'boolean', 'is_latest'),
    #result('pv.payload_length', 'Long', 'payload_length')
#end
FROM
haikudepot.pkg_version pv
JOIN haikudepot.pkg p ON p.id = pv.pkg_id
JOIN haikudepot.pkg_supplement ps ON ps.id = p.pkg_supplement_id
#if($search.repositories || $search.sortOrdering.name() == "PROMINENCE" || $search.architecture)
  JOIN haikudepot.repository_source rs ON pv.repository_source_id = rs.id
  JOIN haikudepot.repository r ON rs.repository_id = r.id
#end
#if($search.architecture)
JOIN haikudepot.architecture a ON a.id = rs.architecture_id
#end
LEFT JOIN haikudepot.pkg_localization pl_nl ON pl_nl.pkg_supplement_id = ps.id AND
    #if($search.naturalLanguage)
        #bindObjectEqual($search.naturalLanguage,'pl_nl.natural_language_id','id')
    #else
        #bindObjectEqual($englishNaturalLanguage,'pl_nl.natural_language_id','id')
    #end
LEFT JOIN haikudepot.pkg_localization pl_en ON pl_en.pkg_supplement_id = ps.id AND
    #bindObjectEqual($englishNaturalLanguage,'pl_en.natural_language_id','id')
LEFT JOIN haikudepot.pkg_version_localization pvl_nl ON pvl_nl.pkg_version_id = pv.id AND
#if($search.naturalLanguage)
    #bindObjectEqual($search.naturalLanguage,'pvl_nl.natural_language_id','id')
#else
    #bindObjectEqual($englishNaturalLanguage,'pvl_nl.natural_language_id','id')
#end
LEFT JOIN haikudepot.localization_content pvl_nl_summary_lc ON pvl_nl_summary_lc.id = pvl_nl.summary_localization_content_id
LEFT JOIN haikudepot.localization_content pvl_nl_description_lc ON pvl_nl_description_lc.id = pvl_nl.description_localization_content_id
LEFT JOIN haikudepot.localization_content pvl_nl_title_lc ON pvl_nl_title_lc.id = pvl_nl.title_localization_content_id
LEFT JOIN haikudepot.pkg_version_localization pvl_en ON pvl_en.pkg_version_id = pv.id AND
    #bindObjectEqual($englishNaturalLanguage,'pvl_en.natural_language_id','id')
LEFT JOIN haikudepot.localization_content pvl_en_summary_lc ON pvl_en_summary_lc.id = pvl_en.summary_localization_content_id
LEFT JOIN haikudepot.localization_content pvl_en_description_lc ON pvl_en_description_lc.id = pvl_en.description_localization_content_id
LEFT JOIN haikudepot.localization_content pvl_en_title_lc ON pvl_en_title_lc.id = pvl_en.title_localization_content_id
#if($search.pkgCategory)
JOIN haikudepot.pkg_pkg_category ppc ON ppc.pkg_supplement_id = ps.id
#end
#if($search.sortOrdering.name() == "PROMINENCE")
LEFT JOIN haikudepot.pkg_prominence ppr ON ppr.pkg_id = p.id AND ppr.repository_id = r.id
LEFT JOIN haikudepot.prominence pr ON ppr.prominence_id = pr.id
#end
WHERE
1 = 1
AND pv.is_latest = true
#if(! $search.includeDevelopment)
AND p.name NOT LIKE '%_devel'
AND p.name NOT LIKE '%_source'
AND p.name NOT LIKE '%_debuginfo'
#end
#if(! $search.includeInactive)
AND p.active = true
AND pv.active = true
#end
#if($search.repositories)
AND r.code IN (
    #foreach( $repository in $search.repositories )
        #bind($repository.code)
        #if($foreach.hasNext)
        ,
        #end
    #end
)
#end
#if($search.architecture)
AND a.code = #bind($search.architecture.code)
#end
#if($search.daysSinceLatestVersion)
AND pv.create_timestamp >= now() - #bind($search.daysSinceLatestVersion, 'INTEGER') * INTERVAL '1 DAY'
#end
#if($search.expression)
AND (
   LOWER(COALESCE(pvl_nl_summary_lc.content,pl_nl.summary)) LIKE #bind($search.expressionAsSqlLike) ESCAPE '|'
OR LOWER(COALESCE(pvl_en_summary_lc.content,pl_en.summary)) LIKE #bind($search.expressionAsSqlLike) ESCAPE '|'
OR LOWER(COALESCE(pvl_en_description_lc.content,pl_en.description)) LIKE #bind($search.expressionAsSqlLike) ESCAPE '|'
OR LOWER(COALESCE(pvl_en_description_lc.content,pl_en.description)) LIKE #bind($search.expressionAsSqlLike) ESCAPE '|'
OR LOWER(COALESCE(pvl_nl_title_lc.content,pl_nl.title)) LIKE #bind($search.expressionAsSqlLike) ESCAPE '|'
OR LOWER(COALESCE(pvl_en_title_lc.content,pl_en.title)) LIKE #bind($search.expressionAsSqlLike) ESCAPE '|'
OR LOWER(p.name) LIKE #bind($search.expressionAsSqlLike) ESCAPE '|'
)
#end
#if($search.pkgCategory)
AND #bindObjectEqual($search.pkgCategory, 'ppc.pkg_category_id', 'id')
#end
#if($search.pkgNames)
    #if($search.pkgNames.isEmpty())
	AND true = false
    #else
    AND p.name IN (#bind($search.pkgNames))
    #end
#end
#if(!$isTotal)
ORDER BY
    #if($search.sortOrdering)
        #if($search.sortOrdering.name() == "PROMINENCE")
        pr.ordering ASC,
        #elseif($search.sortOrdering.name() == "VERSIONVIEWCOUNTER")
        pv.view_counter DESC,
        #elseif($search.sortOrdering.name() == "VERSIONCREATETIMESTAMP")
        pv.create_timestamp DESC,
        #end
    #end
#if($search.expression)
CASE
	WHEN LOWER(COALESCE(pvl_nl_title_lc.content,pl_nl.title)) LIKE #bind($search.expressionAsSqlLike) ESCAPE '|'
		THEN LOWER(COALESCE(pvl_nl_title_lc.content,pl_nl.title))
	WHEN LOWER(COALESCE(pvl_en_title_lc.content,pl_en.title,p.name)) LIKE #bind($search.expressionAsSqlLike) ESCAPE '|'
		THEN LOWER(COALESCE(pvl_en_title_lc.content,pl_en.title,p.name))
	ELSE LOWER(COALESCE(pvl_nl_title_lc.content,pl_nl.title,pvl_en_title_lc.content,pl_en.title,p.name))
END ASC,
#else
LOWER(COALESCE(pvl_nl_title_lc.content,pl_nl.title,pvl_en_title_lc.content,pl_en.title,p.name)) ASC,
#end
pv.id ASC
OFFSET #bind($search.offset)
LIMIT #bind($search.limit)
#end]]></sql>
	</query>
	<cgen xmlns="http://cayenne.apache.org/schema/10/cgen">
		<destDir>../java</destDir>
		<mode>all</mode>
		<template>templates/v4_1/subclass.vm</template>
		<superTemplate>templates/v4_1/superclass.vm</superTemplate>
		<embeddableTemplate>templates/v4_1/embeddable-subclass.vm</embeddableTemplate>
		<embeddableSuperTemplate>templates/v4_1/embeddable-superclass.vm</embeddableSuperTemplate>
		<queryTemplate>templates/v4_1/datamap-subclass.vm</queryTemplate>
		<querySuperTemplate>templates/v4_1/datamap-superclass.vm</querySuperTemplate>
		<outputPattern>*.java</outputPattern>
		<makePairs>true</makePairs>
		<usePkgPath>true</usePkgPath>
		<overwrite>false</overwrite>
		<createPropertyNames>false</createPropertyNames>
		<createPKProperties>false</createPKProperties>
		<client>false</client>
	</cgen>
</data-map>
